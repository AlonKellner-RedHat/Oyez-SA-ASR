# Oyez Audio Formats & URLs

> Generated by Claude - January 2026

Detailed audio file formats, transcript structure, and URL patterns.
See also: [API Overview](oyez_api_overview.md)

## Audio File Formats

Each recording is available in 3 formats:

| Format | MIME Type | S3 Bucket |
|--------|-----------|-----------|
| MP3 | `audio/mpeg` | `oyez.case-media.mp3` |
| OGG | `audio/ogg` | `oyez.case-media.ogg` |
| HLS | `application/x-mpegURL` | `oyez.case-media.hls` |

## Audio File Naming Conventions

Audio files follow specific naming patterns in S3:

### Oral Arguments

```text
{docket}_{date}{suffix}.delivery.mp3
Example: 95-7452_19961104a.delivery.mp3
```

### Opinion Announcements

| Suffix | Type |
|--------|------|
| `-opinion` | Main/majority opinion |
| `-opinion-1`, `-opinion-2` | Numbered parts |
| `-opinion-dissent` | Dissenting opinion |
| `-opinion-concur` | Concurring opinion |

## Accessing Separate Opinion Audio

**Data path:**

```text
Case JSON → opinion_announcement[] → href → case_media API → media_file[]
```

**Title patterns** identify opinion types:

| Pattern | Example |
|---------|---------|
| Standard | `Opinion Announcement - June 30, 2023` |
| Numbered | `Opinion Announcement - June 29, 2015 (Part 1)` |
| Dissent (new) | `Dissenting Opinion - Sotomayor - June 30, 2023` |
| Dissent (old) | `Opinion Announcement - June 19, 2017 (Dissent by Breyer)` |
| Concurrence | `Concurring Opinion - Jackson - June 27, 2024` |

Example: 303 Creative v. Elenis (21-476):

```json
{
  "opinion_announcement": [
    {
      "title": "Opinion Announcement - June 30, 2023",
      "href": "...opinion_announcement_audio/25574"
    },
    {
      "title": "Dissenting Opinion - Sotomayor - June 30, 2023",
      "href": "...opinion_announcement_audio/25583"
    }
  ]
}
```

Fetching the dissent href returns:

```text
.../21-476_20230630-opinion-dissent.delivery.mp3
```

## Transcript Structure

The case_media response includes timestamped transcripts:

```json
{
  "transcript": {
    "title": "Case Name",
    "duration": 3248.262,
    "sections": [
      {
        "start": 0,
        "stop": 1692.036,
        "turns": [
          {
            "start": 0,
            "stop": 9.747,
            "speaker": {
              "ID": 15141,
              "name": "William H. Rehnquist",
              "last_name": "Rehnquist"
            },
            "text_blocks": [
              {
                "start": 0,
                "stop": 8.658,
                "text": "The Court will hear argument now..."
              }
            ]
          }
        ]
      }
    ]
  }
}
```

## URL Patterns

| Resource | URL Pattern |
|----------|-------------|
| Case list | `api.oyez.org/cases?page={n}&per_page={n}` |
| Case detail | `api.oyez.org/cases/{term}/{docket}` |
| Oral argument | `api.oyez.org/case_media/oral_argument_audio/{id}` |
| Opinion audio | `api.oyez.org/case_media/opinion_announcement_audio/{id}` |

### S3 Audio URLs

```text
s3.amazonaws.com/oyez.case-media.mp3/case_data/{term}/{docket}/...
s3.amazonaws.com/oyez.case-media.ogg/case_data/{term}/{docket}/...
s3.amazonaws.com/oyez.case-media.hls/case_data/{term}/{docket}/...
```

## Written Opinion Types

| Type | Count |
|------|-------|
| syllabus | 7,948 |
| case | 6,627 |
| majority | 1,514 |
| concurring | 950 |
| dissenting | 948 |

## Processed FLAC and metadata

When cached audio (MP3/OGG) is converted to FLAC (e.g. via `oyez process
audio`), each output FLAC is written alongside a **metadata file** with
the same base name and extension `.metadata.json`. That file records the
**raw source** and audio metadata so every processed FLAC is traceable to
its source:

- **`source_path`** – Absolute or relative path to the raw cached file
  (MP3 or OGG) that was converted to this FLAC.
- **`source_format`** – `"mp3"` or `"ogg"`.
- **`duration`**, **`sample_rate`**, **`channels`** – From the decoded
  audio; **`is_anomaly`** when anomalies (e.g. silence) are detected.

Layout: `{output_dir}/{term}/{docket}/{recording_id}.flac` and
`{recording_id}.metadata.json` in the same directory.

## Next Steps for Audio ASR

To build an ASR dataset from this data:

1. **Extract audio URLs** from cached case data
2. **Fetch case_media** endpoints to get actual MP3/OGG URLs
3. **Download audio files** from S3 buckets
4. **Extract transcripts** from case_media responses
5. **Align audio with text** using timestamp data
